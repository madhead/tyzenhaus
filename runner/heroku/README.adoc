= Tyzenhaus Heroku runner

Perfect for small loads or testing.

== Running locally

=== As a usual Kotlin / Java / Gradle application

Don't bother with Heroku, Docker and all that tricky stuff, just run it as (from the root of this repo):

[source,bash]
----
./gradlew :runner:heroku:clean :runner:heroku:run
----

Don't forget https://12factor.net/config[about the environment variables]!

=== Local Heroku

Run this from the root of the repo:

[source,bash]
----
./gradlew :runner:heroku:clean :runner:heroku:installDist
heroku config -s > .env
heroku local
----

This way allows you to run as much to the non-Dockerized Heroku as possible.

=== Local Docker

Build the app:

[source,bash]
----
./gradlew :runner:heroku:clean :runner:heroku:installDist
----

Pack it in Docker image:

[source,bash]
----
cd runner/heroku
docker build . -t web
----

Run the image:

[source,bash]
----
docker run -p 5000:5000 -e PORT=5000 web
----

Don't forget to set other environment variables.
